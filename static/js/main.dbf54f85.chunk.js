(this["webpackJsonpreact-stock-app"]=this["webpackJsonpreact-stock-app"]||[]).push([[0],{212:function(e,t,a){e.exports=a(327)},324:function(e,t,a){},327:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),o=a(114),s=a(204),i=a(18),u=a(88),E=a(359),m=a(361),p=a(120),d=a(362),b=a(379),f=a(364),h=a(381),O=a(365),g=a(366),k=a(193),C=a.n(k),v=a(192),y=a.n(v),S=a(104),T=a(357),j=Object(T.a)((function(e){return{root:{display:"flex"},list:{width:250},grow:{flexGrow:1},menuButton:Object(S.a)({marginRight:20},e.breakpoints.up("sm"),{display:"none"}),content:{flexGrow:1,padding:e.spacing(1)},toolbar:e.mixins.toolbar}})),w=function(e){var t=e.children,a=e.status,n=j(),c=r.a.useState(!1),l=Object(u.a)(c,2),o=l[0],s=l[1],i=function(e){s(!o)},k=r.a.createElement(E.a,null,r.a.createElement(m.a,{color:"inherit","aria-label":"Menu",onClick:i},r.a.createElement(y.a,null)),r.a.createElement(p.a,{variant:"h5",color:"inherit",className:n.grow},"Stock App by Akio"),r.a.createElement(p.a,{variant:"h6",color:"inherit",className:n.grow},a?"Websocket Connected":"Connectiong Websocket..."));return r.a.createElement("div",{className:n.root},r.a.createElement(d.a,{position:"fixed"},k),r.a.createElement(b.a,{open:o,onClose:i},r.a.createElement("div",{className:n.list,role:"presentation",onClick:i},r.a.createElement(f.a,null,r.a.createElement(h.a,{onClick:function(){}},r.a.createElement(O.a,null,r.a.createElement(C.a,null)),r.a.createElement(g.a,{primary:"Dashboard"}))))),r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),t))},D=a(369),W=a(329),N=a(370),B=a(371),x=a(368),R=a(372),K=a(203),_=a.n(K),P=a(376),L=a(363),I=a(330),A=a(375),V=a(380),J=a(373),G=Object(T.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #634",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),M=function(e){var t=e.visible,a=e.data,n=e.onCancel,c=G(),l=a.prices.map((function(e,t){return{x:t,y:e}}));return r.a.createElement(P.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:n,closeAfterTransition:!0,BackdropComponent:L.a,BackdropProps:{timeout:500}},r.a.createElement(I.a,{in:t},r.a.createElement("div",{className:c.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Sparklines of [",a.name.toUpperCase(),"]"),r.a.createElement(A.a,{theme:V.a.material},r.a.createElement(J.a,{data:l})))))},U=a(87),z=a.n(U),q=a(12),F=a(367),H=Object(q.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(F.a),Q=Object(q.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(x.a),X=Object(T.a)((function(e){return{table:{minWidth:400},modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},raise:{color:e.palette.success.dark,fontWeight:"bold"},fall:{color:e.palette.error.dark,fontWeight:"bold"},normal:{fontWeight:"bold"},stockName:{textTransform:"uppercase",fontWeight:"bold"}}})),Y={name:"",prices:[]};var Z,$=function(e){var t=e.stockData,a=e.stockTypes,c=X(),l=Object(n.useState)(Y),o=Object(u.a)(l,2),s=o[0],i=o[1],E=Object(n.useState)(!1),d=Object(u.a)(E,2),b=d[0],f=d[1],h=a.map((function(e,a){return function(e,t,a){return{number:e+1,name:t,currentPrice:a.prices[a.prices.length-1],lastPrice:a.prices.length>2?a.prices[a.prices.length-2]:"-",updateDate:a.updateDate,status:a.status}}(a,e,t[e])})),O=function(e){return function(){e?(i({name:e,prices:t[e].prices}),f(!b)):f(!1)}};return r.a.createElement(D.a,{component:W.a},r.a.createElement(N.a,{className:c.table,"aria-label":"stock table"},r.a.createElement(B.a,null,r.a.createElement(x.a,null,r.a.createElement(H,null,"Number"),r.a.createElement(H,null,"Name"),r.a.createElement(H,{align:"right"},"Last Price"),r.a.createElement(H,{align:"right"},"Price"),r.a.createElement(H,{align:"right"},"Last Update"),r.a.createElement(H,{align:"right"},"Action"))),r.a.createElement(R.a,null,a.length>0&&h.map((function(e){return r.a.createElement(Q,{key:e.number},r.a.createElement(H,null,e.number),r.a.createElement(H,null,r.a.createElement(p.a,{className:c.stockName},e.name)),r.a.createElement(H,{align:"right"},e.lastPrice),r.a.createElement(H,{align:"right",className:1===e.status?c.raise:-1===e.status?c.fall:c.normal},e.currentPrice),r.a.createElement(H,{align:"right"},z()(e.updateDate).fromNow()),r.a.createElement(H,{align:"right"},r.a.createElement(m.a,{color:"inherit","aria-label":"Show Chart",onClick:O(e.name)},r.a.createElement(_.a,null))))})))),r.a.createElement(M,{visible:b,data:s,onCancel:O(null)}))},ee=Object(o.b)((function(e){return{connected:e.connected,stockData:e.stockData,stockTypes:e.stockTypes}}))((function(e){var t=e.connected,a=e.stockData,n=e.stockTypes;return r.a.createElement(w,{status:t},r.a.createElement($,{stockData:a,stockTypes:n}))})),te=(a(324),function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/"},r.a.createElement(ee,null)))))}),ae=a(59),ne=a(115),re=a(118);!function(e){e.WEBSOCKET_OPENED="WEBSOCKET_OPENED",e.WEBSOCKET_CLOSED="WEBSOCKET_CLOSED",e.WEBSOCKET_RECEIVE="WEBSOCKET_RECEIVED",e.WEBSOCKET_ERROR="WEBSOCKET_ERROR"}(Z||(Z={}));var ce={connected:!1,stockData:{},stockTypes:[]};var le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z.WEBSOCKET_OPENED:return Object(re.a)({},e,{connected:!0});case Z.WEBSOCKET_CLOSED:case Z.WEBSOCKET_ERROR:return Object(re.a)({},e,{connected:!1});case Z.WEBSOCKET_RECEIVE:var a=e.stockData,n=e.stockTypes,r=t.payload;return r.forEach((function(e){var t=e[0],n=e[1],r=a[t];if(r){var c=r.prices[r.prices.length-1];r.prices.push(n),r.status=n>c?1:n<c?-1:0,r.updateDate=z()(),r.prices.length>20&&r.prices.shift()}else a[t]={prices:[n],status:0,updateDate:z()()}})),n=Object.keys(a),Object(re.a)({},e,{stockData:a,stockTypes:n});default:return e}},oe=a(150),se=a.n(oe),ie=a(119),ue=a(205);var Ee=se.a.mark(pe),me=function(e){return Object(ne.b)((function(t){return e.addEventListener("message",(function(e){var a;t((a=JSON.parse(e.data),{type:Z.WEBSOCKET_RECEIVE,payload:a}))})),e.addEventListener("open",(function(){t({type:Z.WEBSOCKET_OPENED,payload:null})})),e.addEventListener("error",(function(){t({type:Z.WEBSOCKET_ERROR,payload:null})})),e.addEventListener("close",(function(){t({type:Z.WEBSOCKET_CLOSED,payload:null})})),function(){return e.close()}}))};function pe(){var e,t,a;return se.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"ws://stocks.mnet.website",e=new ue.a("ws://stocks.mnet.website"),n.next=4,Object(ie.a)(me,e);case 4:t=n.sent;case 5:return n.next=8,Object(ie.c)(t);case 8:return a=n.sent,n.next=11,Object(ie.b)(a);case 11:n.next=5;break;case 13:case"end":return n.stop()}}),Ee)}var de=function(){var e=Object(ne.a)(),t=Object(ae.d)(le,Object(ae.a)(e));return e.run(pe),t}();l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.a,{store:de},r.a.createElement(te,null))),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.dbf54f85.chunk.js.map